{"version":2,"kind":"Notebook","sha256":"1e5fe2e05ac4696992bdb3e12fa4a328ea73d9e5019c84b3ff43bcdc5b0fa360","slug":"notebooks.ocean-llc4320-visualization","location":"/notebooks/Ocean_llc4320_visualization.ipynb","dependencies":[],"frontmatter":{"title":"ECCO LLC4320 Ocean Dataset Notebook","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Aashish Panta","given":"Aashish","family":"Panta"},"name":"Aashish Panta","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Amy Gooch","given":"Amy","family":"Gooch"},"name":"Amy Gooch","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Giorgio Scorzelli","given":"Giorgio","family":"Scorzelli"},"name":"Giorgio Scorzelli","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Valerio Pascucci","given":"Valerio","family":"Pascucci"},"name":"Valerio Pascucci","id":"contributors-myst-generated-uid-3"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/ProjectPythia/NSDF-OpenVISUS-cookbook","copyright":"2024","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/ProjectPythia/NSDF-OpenVISUS-cookbook/blob/HEAD/notebooks/Ocean_llc4320_visualization.ipynb","exports":[{"format":"ipynb","filename":"Ocean_llc4320_visualization.ipynb","url":"/NSDF-OpenVISUS-cookbook/_preview/1/build/Ocean_llc4320_visual-fb68a0fa09e1fa5a1b76774b06cfb96a.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"image","url":"/myst_assets_folder../thumbnails/nsdf.png","alt":"NSDF logo","width":"180px","align":"center","key":"M3szCH0knY"},{"type":"image","url":"/myst_assets_folder../thumbnails/pelican.jpeg","alt":"Pelican Platform logo","height":"100px","width":"100px","align":"center","key":"EJNQhK3227"}],"key":"gMLfFNX36i"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"LLC4320","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xylZTplrxC"}],"key":"T1morhovob"},{"type":"text","value":", a product of ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s8eBJgMomZ"},{"type":"link","url":"https://ecco-group.org/home.htm","children":[{"type":"inlineCode","value":"Estimating the Circulation and Climate of the Ocean (ECCO)","key":"sOCrKmf6nN"}],"urlSource":"https://ecco-group.org/home.htm","key":"AxI8jO068l"},{"type":"text","value":" project, is the product of a 14-month simulation of ocean circulation and dynamics using MITgcm model. This simulation is similar to the ocean portion of the DYAMOND coupled simulation but was run with half the horizontal grid spacing (","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RDzjWQgwG1"},{"type":"inlineMath","value":"4\\times","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>4</mn><mo>×</mo></mrow><annotation encoding=\"application/x-tex\">4\\times</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">4</span><span class=\"mord\">×</span></span></span></span>","key":"Z14fP3OCoa"},{"type":"text","value":" the cell count) and with ocean surface boundary values derived from observations and physical models. The model output has five 3D and thirteen 2D fields, including temperature, salinity, three velocity components, sea ice, and radiation. This massive dataset is 2.8 PB.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EMsnk4zDcO"}],"key":"NvnOXPAH9o"}],"key":"Gt4gcUQi0x"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o7YSTwhaw4"}],"key":"zW5JxBNVn7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lgqoUkHywm"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"TIr1BcyspG"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook demonstrates how to access and visualize high-resolution ocean data from the LLC4320 dataset using OpenVisus. The data is hosted in OSDF and served using Pelican Platform and OpenVisus. You’ll learn how to read metadata from the cloud, interactively select variables, and explore regional and depth-based slices of the data.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wABvvJDuho"}],"key":"NMfO6Pwclt"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Read the metadata file from cloud","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cpllNM7nqC"}],"key":"qoAUnm0p7p"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Data Subset","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"LBeq3jnUvZ"}],"key":"uCE2Zcd0uY"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Visualize the data","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"rUt06bGwl7"}],"key":"c8xcP03vgn"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Explore multi-resolution data for a specific region and depth","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"IFt18tEvif"}],"key":"Ox553w2Vq8"}],"key":"ZLUPCuvmdB"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"By the end of this notebook, you will understand how to:","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OAhisIvyyp"}],"key":"aHkpu6mEoc"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Stream and query oceanographic data using PelicanFS","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"vzdt969Wwl"}],"key":"X36Wg3XP2H"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Use metadata to inform data exploration","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"UPcDe7ff4p"}],"key":"jLBCsvDdKi"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Visualize regional and depth-specific ocean data using Panel and Bokeh","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"sFk4zETlMi"}],"key":"hcIJVeBTyc"}],"key":"lcEhdaJmWv"}],"key":"MVQLGMeUXO"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"b0aT9Syj3O"}],"key":"EIcVgaCoGB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VWZuiz1rRc"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"yFvgkWdgr2"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This section was inspired by ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XHmgRhjW9p"},{"type":"link","url":"https://github.com/alan-turing-institute/the-turing-way/blob/master/book/templates/chapter-template/chapter-landing-page.md","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"this template","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cmOTan5ZxE"}],"urlSource":"https://github.com/alan-turing-institute/the-turing-way/blob/master/book/templates/chapter-template/chapter-landing-page.md","data":{"kind":"file","org":"alan-turing-institute","repo":"the-turing-way","reference":"master","file":"book/templates/chapter-template/chapter-landing-page.md","raw":"https://raw.githubusercontent.com/alan-turing-institute/the-turing-way/master/book/templates/chapter-template/chapter-landing-page.md"},"internal":false,"protocol":"github","key":"arwBOswJQX"},{"type":"text","value":" of the wonderful ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pd3wSPDGVm"},{"type":"link","url":"https://the-turing-way.netlify.app","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The Turing Way","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"k0LSisrQ2F"}],"urlSource":"https://the-turing-way.netlify.app","key":"XKF4htB5D0"},{"type":"text","value":" Jupyter Book.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DomhQmRH80"}],"key":"VZjniIX6JO"},{"type":"table","position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DguZvNVF07"}],"key":"k4Uc6krxpK"},{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"UGygAYMhwO"}],"key":"wdcytOYrXJ"},{"type":"tableCell","header":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cqQ78Kcyr2"}],"key":"smJ2HvvZYK"}],"key":"gQ85myVK4M"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"https://github.com/sci-visus/OpenVisus","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"OpenVisus","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"XoScW7IDs0"}],"urlSource":"https://github.com/sci-visus/OpenVisus","error":true,"key":"lYAxOrX1nL"}],"key":"SIklyvS8cT"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vya7dEbUEL"}],"key":"Q01PvY1oHv"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Required for multiresolution data access and streaming","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"d9SCmrPCoY"}],"key":"jF5M4UsnLm"}],"key":"xhqhF17r9w"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Oceanographic data formats and interpretation","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"gIu8dm40BW"}],"key":"hrXPm8j4dx"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"xuokSVFAjS"}],"key":"xDYvSBo45J"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Understanding of gridded climate/ocean data such as LLC2160","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"sjmba5ddc5"}],"key":"ElYT0DsY1X"}],"key":"Hn3IcbAfnG"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"link","url":"https://github.com/PelicanPlatform/pelican","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"PelicanFS","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"O2PEJbthzl"}],"urlSource":"https://github.com/PelicanPlatform/pelican","error":true,"key":"s3k2Pj0rMK"}],"key":"RqvRNqlRq1"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"qpghtMH8v6"}],"key":"nDgx9LaNaZ"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Used for high-performance data access from cloud storage","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"GQLSFMc9k7"}],"key":"icDhV63Vd1"}],"key":"Yrl4qcST2K"}],"key":"k6pJYvbSyA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"strong","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"MoIB7efogI"}],"key":"D3LmkyW4fR"},{"type":"text","value":": 30 minutes","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"IIl24vJ68c"}],"key":"mXqm3xBnWN"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"System requirements","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"XXwhaNTKzE"}],"key":"Xpr0ZEeAXP"},{"type":"text","value":":","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"QfhqC0ihpe"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Python packages: ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"MLGSMMIM03"},{"type":"inlineCode","value":"panel","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"X63l7hlb9A"},{"type":"text","value":", ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ftg7MGXsaz"},{"type":"inlineCode","value":"bokeh","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"iafJ2FbHuf"},{"type":"text","value":", ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"pNMTVJ5YiU"},{"type":"inlineCode","value":"xmltodict","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"XGyHaJKjtq"},{"type":"text","value":", ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"O2PiuJh6Za"},{"type":"inlineCode","value":"colorcet","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"mRC1lls0HL"},{"type":"text","value":", ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"mjK8YQ37Q2"},{"type":"inlineCode","value":"boto3","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"k6N2mSmKIK"},{"type":"text","value":", ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"VKCw3HgvGv"},{"type":"inlineCode","value":"basemap","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"cNoXxlg3T5"},{"type":"text","value":", ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"hjLflcdlDb"},{"type":"inlineCode","value":"pelicanfs","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"XId0tOn3xi"},{"type":"text","value":", ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"bxif3gwvL4"},{"type":"inlineCode","value":"OpenVisus","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"WeW94taaJG"},{"type":"text","value":", ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"hxDdx6cSnU"},{"type":"inlineCode","value":"openvisuspy","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"nlbKbkU0Yi"}],"key":"VxlhcKc6FS"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Recommended: Python ≥ 3.8, internet access for cloud-hosted data","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"BY8Fj0k94O"}],"key":"Z72HVAwPOB"}],"key":"tYAB2dyRWK"}],"key":"kOjrCbyKWo"}],"key":"wjJ5k3FYj8"}],"key":"gmFAogqC8G"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ILQjvulVJ7"}],"key":"AKSNKKgGDm"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 1: Importing the libraries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e0oLXB8WmV"}],"key":"wQRnVxIs27"}],"identifier":"step-1-importing-the-libraries","label":"Step 1: Importing the libraries","html_id":"step-1-importing-the-libraries","implicit":true,"key":"AoFaxIHvkq"}],"key":"ZUIQ46oq4m"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\nimport openvisuspy as ovp\nimport matplotlib.pyplot as plt","key":"uRXbTMIKOl"},{"type":"output","id":"wgaeNRgSItp8of1-3Te1m","data":[{"output_type":"error","traceback":"\u001b[31m---------------------------------------------------------------------------\u001b[39m\n\u001b[31mModuleNotFoundError\u001b[39m                       Traceback (most recent call last)\n\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[1]\u001b[39m\u001b[32m, line 2\u001b[39m\n\u001b[32m      1\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnumpy\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mnp\u001b[39;00m\n\u001b[32m----> \u001b[39m\u001b[32m2\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mopenvisuspy\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01movp\u001b[39;00m\n\u001b[32m      3\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mmatplotlib\u001b[39;00m\u001b[34;01m.\u001b[39;00m\u001b[34;01mpyplot\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mplt\u001b[39;00m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/nsdf-cookbook/lib/python3.12/site-packages/openvisuspy/__init__.py:1\u001b[39m\n\u001b[32m----> \u001b[39m\u001b[32m1\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01m.\u001b[39;00m\u001b[34;01mutils\u001b[39;00m\u001b[38;5;250m      \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m *\n\u001b[32m      2\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01m.\u001b[39;00m\u001b[34;01mbackend\u001b[39;00m\u001b[38;5;250m    \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m *\n\u001b[32m      3\u001b[39m \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01m.\u001b[39;00m\u001b[34;01mslice\u001b[39;00m\u001b[38;5;250m      \u001b[39m\u001b[38;5;28;01mimport\u001b[39;00m *\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/nsdf-cookbook/lib/python3.12/site-packages/openvisuspy/utils.py:35\u001b[39m\n\u001b[32m     32\u001b[39m bokeh.core.validation.silence(bokeh.core.validation.warnings.EMPTY_LAYOUT, \u001b[38;5;28;01mTrue\u001b[39;00m)\n\u001b[32m     33\u001b[39m bokeh.core.validation.silence(bokeh.core.validation.warnings.FIXED_SIZING_MODE,\u001b[38;5;28;01mTrue\u001b[39;00m)\n\u001b[32m---> \u001b[39m\u001b[32m35\u001b[39m \u001b[38;5;28;01mimport\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mpanel\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mas\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34;01mpn\u001b[39;00m\n\u001b[32m     37\u001b[39m \u001b[38;5;66;03m# ////////////////////////////////////////////////////////\u001b[39;00m\n\u001b[32m     38\u001b[39m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[34mSafeCallback\u001b[39m(fn):\n\n\u001b[31mModuleNotFoundError\u001b[39m: No module named 'panel'","ename":"ModuleNotFoundError","evalue":"No module named 'panel'"}],"key":"QplHvIAqeW"}],"key":"gRZbUd8ZRw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The section below shows different LLC4320 fields we have available in cloud. Each field is >400TB.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fX1kHBi3S9"}],"identifier":"the-section-below-shows-different-llc4320-fields-we-have-available-in-cloud-each-field-is-400tb","label":"The section below shows different LLC4320 fields we have available in cloud. Each field is >400TB.","html_id":"the-section-below-shows-different-llc4320-fields-we-have-available-in-cloud-each-field-is-400tb","implicit":true,"key":"YeXZdmRRYT"}],"key":"MYihtygkQe"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"temperature=\"pelican://osg-htc.org/nasa/nsdf/climate1/llc4320/idx/theta/theta_llc4320_x_y_depth.idx\"\n\nsalinity=\"pelican://osg-htc.org/nasa/nsdf/climate1/llc4320/idx/salt/salt_llc4320_x_y_depth.idx\"\n\nvertical_velocity=\"pelican://osg-htc.org/nasa/nsdf/climate2/llc4320/idx/w/w_llc4320_x_y_depth.idx\"","key":"NIXEJuX1aJ"},{"type":"output","id":"eF4Mx4aBDBpVIIuHQElVq","data":[],"key":"WTAKfbZ34n"}],"key":"mRhJsHe3lq"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 2: Reading the metadata file from cloud","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tuajLKn8PQ"}],"key":"f8n9SX5mHO"}],"identifier":"step-2-reading-the-metadata-file-from-cloud","label":"Step 2: Reading the metadata file from cloud","html_id":"step-2-reading-the-metadata-file-from-cloud","implicit":true,"key":"VP5Xs2z6O4"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this section, you can select any variables that you can declared in the cells above and replace it inside ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Xv77StOvSX"},{"type":"inlineCode","value":"LoadDataset","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"diy8rwoRua"},{"type":"text","value":". We are just reading the metadata for the dataset here.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"LLphd7vGow"}],"key":"M5csJFCLb9"}],"key":"UY6rgUY7QX"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"db=ovp.LoadDataset(temperature)\nprint(f'Dimensions: {db.getLogicBox()[1][0]}*{db.getLogicBox()[1][1]}*{db.getLogicBox()[1][2]}')\nprint(f'Total Timesteps: {len(db.getTimesteps())}')\nprint(f'Field: {db.getField().name}')\nprint('Data Type: float32')","key":"RWsFItkfff"},{"type":"output","id":"yv2puFgFKAygkkSzLdWev","data":[],"key":"uk45Iw3ksQ"}],"key":"rxgOywZj0K"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 3:  Data Selection","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jQXXea6ZRw"}],"key":"SI3rgKXdkH"}],"identifier":"step-3-data-selection","label":"Step 3:  Data Selection","html_id":"step-3-data-selection","implicit":true,"key":"lrzzM9UM8N"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"This section shows you how to load the data you want. You can select any timestep, region (x,y,z) you want. You can set the quality or resolution of the data as well. Higher quality means the finer(more) data. Not setting any time means first timestep available. Not setting quality means full data which takes a while to load because of the higher filesize.  Since each timestep is >30GB, I am only selecting 1 level out of 90.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"gw1VYd3WBU"}],"key":"B08JynPYEA"}],"key":"mdrcr9rYQf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"data=db.db.read(time=0,z=[0,1],quality=-4) #Since each timestep is >30GB, I am only selecting 1 level out of 90.\ndata.shape","key":"JEDjuPKrLT"},{"type":"output","id":"8EyabilPoaK6gsu8wivrj","data":[],"key":"UFdYdWTMED"}],"key":"al2lmc5WK7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 4:  Visualize the data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SqAwOhKx3o"}],"key":"u5fIQoj1nY"}],"identifier":"step-4-visualize-the-data","label":"Step 4:  Visualize the data","html_id":"step-4-visualize-the-data","implicit":true,"key":"LROliTQzWa"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We are using a simple matplotlib here, but since the data is in numpy array, it can loaded with any python modules that support numpy. Feel free to set the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"gNTHp01T9W"},{"type":"inlineCode","value":"vmin","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"X71YEvzLQy"},{"type":"text","value":",","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"iSIthO8mHx"},{"type":"inlineCode","value":"vmax","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"WCyo0Ts9b4"},{"type":"text","value":" appropriately.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"T1JoAJFtMS"}],"key":"rfS1WAeKxT"}],"key":"x3e72T9ZZi"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"fig,axes=plt.subplots(1,1,figsize=(12,8))\nim= axes.imshow(data[0,:,:], aspect='auto',origin='lower',cmap='turbo')\ncbar = plt.colorbar(im, ax=axes)\ncbar.set_label('Temperature (deg. C)')\nplt.show()\n","key":"CF7hgUbnJf"},{"type":"output","id":"Myu2qPR-lvW4sXreCCGJp","data":[],"key":"sGzQOcHWv8"}],"key":"nRxngNfjrQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"But, what if you want to see the full data for a certain region at a certain depth?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OaoW46A7sq"}],"key":"y6jtwoUvYr"}],"identifier":"but-what-if-you-want-to-see-the-full-data-for-a-certain-region-at-a-certain-depth","label":"But, what if you want to see the full data for a certain region at a certain depth?","html_id":"but-what-if-you-want-to-see-the-full-data-for-a-certain-region-at-a-certain-depth","implicit":true,"key":"SM381riCNv"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Just set the right x,y,z while reading the data. x and y are the bounding box, z is the depth/layer.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AfYTlWbntL"}],"key":"Gzeenv3cDw"}],"key":"E8dSRMImK2"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"data1=db.db.read(time=1,z=[0,1],quality=-6,x=[500,2500],y=[8500,11000])\nplt.imshow(data1[0,:,:], origin='lower',cmap='turbo')\nplt.colorbar()","visibility":"show","key":"tezBFWMSkA"},{"type":"output","id":"do0teZHGxPNonx3aMzPEg","data":[],"visibility":"show","key":"fW8cLLmFmp"}],"visibility":"show","key":"RtRCP9M05i"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"data1.shape #","key":"hKdhOk3dx3"},{"type":"output","id":"1M0JTuSAX6zzHl9HKbFVx","data":[],"key":"V1UJWGze59"}],"key":"fhDvcS3vmS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 5: Save the data for the region locally","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hVWDMTaFw7"}],"key":"G3Ak8YhL2J"}],"identifier":"step-5-save-the-data-for-the-region-locally","label":"Step 5: Save the data for the region locally","html_id":"step-5-save-the-data-for-the-region-locally","implicit":true,"key":"wejtU35TX6"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"You can save the data locally as you want. For example, here we are only saving the region shown above as a numpy array.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"G0xFCTko90"}],"key":"M9vMYjxcgG"}],"key":"aFootYC3C0"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"np.save('test_region.npy', data1)","visibility":"show","key":"srUzRwPzr6"},{"type":"output","id":"XwbjWp8PeFzTl6YwDsG8n","data":[],"visibility":"show","key":"VenS1jWKaf"}],"visibility":"show","key":"iMmew1quSX"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 6: Load the locally saved region and visualize using matplotlib","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VCxXEorMul"}],"key":"MBnVnp2fZ1"}],"identifier":"step-6-load-the-locally-saved-region-and-visualize-using-matplotlib","label":"Step 6: Load the locally saved region and visualize using matplotlib","html_id":"step-6-load-the-locally-saved-region-and-visualize-using-matplotlib","implicit":true,"key":"PCZmlurz4h"}],"visibility":"show","key":"EalydeM0kb"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"local_data=np.load('test_region.npy')\nplt.imshow(local_data[0,:,:], origin='lower',cmap='turbo')\nplt.colorbar()","visibility":"show","key":"EIxymMbXc4"},{"type":"output","id":"Rw_WVcHLIA77bANq9r2pR","data":[],"visibility":"show","key":"vTrUHJOOEl"}],"visibility":"show","key":"HGm1LXBTiq"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Step 7: Horizontal Slicing","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gDVWsPECf0"}],"key":"J8XUizGgL8"}],"identifier":"step-7-horizontal-slicing","label":"Step 7: Horizontal Slicing","html_id":"step-7-horizontal-slicing","implicit":true,"key":"uRYSa1GnmR"}],"key":"lJedLwvfSb"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"data1=db.db.read(time=1,x=[500,2500],y=[10500,10501])\ndata1.shape\n","key":"KOQkKoMvq2"},{"type":"output","id":"as7HYyWYnZCjf0BXC11jP","data":[],"key":"XH0nfeMleM"}],"key":"hjtbZPzsxm"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(14,8))\nplt.imshow(data1[:,0,:],cmap='turbo')\n# plt.colorbar()","key":"tS4zhjsa4C"},{"type":"output","id":"BeV5tVPJjkkRiSNNe9USj","data":[],"key":"oYFxkmfayf"}],"key":"gHNlzv4vbV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Please reach out to Aashish Panta, Giorgio Scorzelli or Valerio Pascucci for any concerns about the notebook. Thank you!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"v5RCGzeMEX"}],"key":"ky5Gjrk6tl"}],"identifier":"please-reach-out-to-aashish-panta-giorgio-scorzelli-or-valerio-pascucci-for-any-concerns-about-the-notebook-thank-you","label":"Please reach out to Aashish Panta, Giorgio Scorzelli or Valerio Pascucci for any concerns about the notebook. Thank you!","html_id":"please-reach-out-to-aashish-panta-giorgio-scorzelli-or-valerio-pascucci-for-any-concerns-about-the-notebook-thank-you","implicit":true,"key":"Jx7auxHcfH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Aashish Panta (","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YTBJnrJMIu"},{"type":"link","url":"mailto:aashishpanta0@gmail.com","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"aashishpanta0@gmail​.com","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ekH2XFAagl"}],"urlSource":"mailto:aashishpanta0@gmail.com","key":"HgdkumJ73A"},{"type":"text","value":")","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"X0FyDPpghU"}],"key":"MsX0Hvjru3"},{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Giorgio Scorzelli (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"L8FcD6hHvQ"},{"type":"link","url":"mailto:scrgiorgio@gmail.com","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"scrgiorgio@gmail​.com","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pquuNVpyNs"}],"urlSource":"mailto:scrgiorgio@gmail.com","key":"pGmWKgkjYx"},{"type":"text","value":")","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lWp2xbOq4s"}],"key":"exiZZTlLZ6"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Valerio Pascucci (","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"O0pwKvjypd"},{"type":"link","url":"mailto:pascucci.valerio@gmail.com","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"pascucci​.valerio@gmail​.com","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"xuXqhaGUBm"}],"urlSource":"mailto:pascucci.valerio@gmail.com","key":"NlQiBRlTOz"},{"type":"text","value":")","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"fBz8syiPVS"}],"key":"FVYvBkRo4q"}],"key":"IB2iDeGi1E"}],"key":"JfWc3duDuv"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s7m6HlRDXp"}],"key":"zg1ioRkFas"}],"key":"aHQoQ5logI"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"DYAMOND LLC2160 Ocean Dataset Notebook","url":"/notebooks/ocean-llc2160-visualization","group":"NASA DYAMOND Datasets (C1440-LLC2160)"}}},"domain":"http://localhost:3000"}